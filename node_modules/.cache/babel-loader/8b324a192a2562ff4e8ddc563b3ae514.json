{"remainingRequest":"D:\\go-workspace\\mall\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\go-workspace\\mall\\web\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\go-workspace\\mall\\web\\src\\axios\\index.js","dependencies":[{"path":"D:\\go-workspace\\mall\\web\\src\\axios\\index.js","mtime":1677664148708},{"path":"D:\\go-workspace\\mall\\web\\babel.config.js","mtime":1677664148693},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678869284518},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1678869295129},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\eslint-loader\\index.js","mtime":1678869284898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JzsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvd2ViIjsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIHRpbWVvdXQ6IDUwMDAsCiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgfQp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgcmV0dXJuIGNvbmZpZzsKfSk7CnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgIHJldHVybiByZXNwb25zZTsKICB9IGVsc2UgewogICAgRWxNZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwogIHJvdXRlci5wdXNoKCcvNDA0Jyk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["D:/go-workspace/mall/web/src/axios/index.js"],"names":["axios","router","ElMessage","defaults","baseURL","request","create","timeout","headers","interceptors","use","config","localStorage","getItem","response","data","code","console","log","error","message","Promise","reject","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyB,2BAAzB;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,IADgB;AAEzBC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFgB,CAAb,CAAhB;AAOAH,OAAO,CAACI,YAAR,CAAqBJ,OAArB,CAA6BK,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACvCA,EAAAA,MAAM,CAACH,OAAP,CAAe,OAAf,IAA0BI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA1B;AACA,SAAOF,MAAP;AACH,CAHD;AAKAN,OAAO,CAACI,YAAR,CAAqBK,QAArB,CAA8BJ,GAA9B,CAAkC,UAAAI,QAAQ,EAAI;AAC1C,MAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAd,KAAuB,GAA3B,EAA+B;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,WAAOA,QAAP;AACH,GAHD,MAGO;AACHZ,IAAAA,SAAS,CAACiB,KAAV,CAAgBL,QAAQ,CAACC,IAAT,CAAcK,OAA9B;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,WAAOO,OAAO,CAACC,MAAR,CAAeR,QAAf,CAAP;AACH;AACJ,CATD,EASE,UAAAK,KAAK,EAAI;AACPF,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAlB,EAAAA,MAAM,CAACsB,IAAP,CAAY,MAAZ;AACA,SAAOF,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACH,CAbD;AAeA,eAAed,OAAf","sourcesContent":["import axios from \"axios\";\r\nimport router from '../router/index';\r\nimport { ElMessage } from 'element-plus';\r\n\r\naxios.defaults.baseURL = \"http://localhost:8000/web\";\r\n\r\nconst request = axios.create({\r\n    timeout: 5000,\r\n    headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n    }\r\n});\r\n\r\nrequest.interceptors.request.use(config => {\r\n    config.headers['token'] = localStorage.getItem('token')\r\n    return config\r\n})\r\n\r\nrequest.interceptors.response.use(response => {\r\n    if (response.data.code === 200){\r\n        console.log(response)\r\n        return response;\r\n    } else {\r\n        ElMessage.error(response.data.message)\r\n        console.log(response)\r\n        return Promise.reject(response)\r\n    }\r\n},error => {\r\n    console.log(error)\r\n    router.push('/404');\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default request;"]}]}