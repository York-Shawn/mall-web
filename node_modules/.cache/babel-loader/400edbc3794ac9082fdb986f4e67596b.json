{"remainingRequest":"D:\\go-workspace\\mall\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\go-workspace\\mall\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\go-workspace\\mall\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\go-workspace\\mall\\web\\src\\view\\Market.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\go-workspace\\mall\\web\\src\\view\\Market.vue","mtime":1677664148723},{"path":"D:\\go-workspace\\mall\\web\\babel.config.js","mtime":1677664148693},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678869284518},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1678869295129},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678869284518},{"path":"D:\\go-workspace\\mall\\web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1678869302535}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgY29udGFpbmVyIGZyb20gIkAvY29tcG9uZW50cy9jb250YWluZXIiOwppbXBvcnQgeyBCcnVzaCwgTWludXMsIFBsdXMsIFNlYXJjaCwgVGltZXIsIFdhcm5pbmdGaWxsZWQgfSBmcm9tICJAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFya2V0IiwKICBjb21wb25lbnRzOiB7CiAgICBjb250YWluZXI6IGNvbnRhaW5lciwKICAgIFRpbWVyOiBUaW1lcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgU2VhcmNoOiBTZWFyY2gsCiAgICAgIEJydXNoOiBCcnVzaCwKICAgICAgUGx1czogUGx1cywKICAgICAgTWludXM6IE1pbnVzLAogICAgICBXYXJuaW5nRmlsbGVkOiBXYXJuaW5nRmlsbGVkCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIHN0YXR1czogJycKICAgICAgfSwKICAgICAgbWFya2V0TGlzdDogW10sCiAgICAgIGdvb2RzTGlzdDogW10sCiAgICAgIG1hcmtldDogewogICAgICAgIGlkOiAnJywKICAgICAgICBiYW5uZXJJbWFnZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgYmVnaW5UaW1lOiAnJywKICAgICAgICBvdmVyVGltZTogJycsCiAgICAgICAgZ29vZHNJZHM6ICcnLAogICAgICAgIHN0YXR1czogJycKICAgICAgfSwKICAgICAgdHlwZU9wdGlvbjogW3sKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBsYWJlbDogJ+mSu+efs+WxleS9jScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIGxhYmVsOiAn6ZmQ5pe254m55oOgJwogICAgICB9XSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXkuIDkuKrlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwKICAgICAgICBiYW5uZXJJbWFnZTogewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6Iez5bCR5LiK5Lyg5LiA5byg5Zu+54mHJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sCiAgICAgICAgdHlwZTogewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5rS75Yqo57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sCiAgICAgICAgYmVnaW5UaW1lOiB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7forr7nva7lvIDlp4vml7bpl7QnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwKICAgICAgICBvdmVyVGltZTogewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36K6+572u57uT5p2f5pe26Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sCiAgICAgICAgZ29vZHNJZHM6IHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iHs+WwkeWFs+iBlOS4gOS4quWVhuWTgScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIOWbvueJh+WIl+ihqAogICAgICBwaWN0dXJlTGlzdDogW10sCiAgICAgIGdvb2RzSWRzOiBbXSwKICAgICAgc2VsZWN0ZWRHb29kc0xpc3Q6IFtdLAogICAgICBtYXJrZXRJZDogJycsCiAgICAgIC8vIOWIhumhtQogICAgICB0b3RhbDogMCwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICAvLyDmk43kvZznirbmgIEKICAgICAgZGlhbG9nVGl0bGU6ICcnLAogICAgICBvcGVyYXRlVHlwZTogJycsCiAgICAgIG1hcmtldERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBnb29kc1BvcG92ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g6K+35rGC6K6k6K+BCiAgICAgIHRva2VuOiAnJywKICAgICAgLy8g56m654q25oCBCiAgICAgIHNob3dFbXB0eTogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRNYXJrZXRMaXN0KCk7CiAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliIbpobXvvIzlpITnkIblh73mlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2VQcmV2OiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlUHJldih2YWwpIHsKICAgICAgdGhpcy5wYWdlTnVtID0gdmFsOwogICAgICBjb25zb2xlLmxvZygiXHU0RTBBXHU0RTAwXHU5ODc1OiAiLmNvbmNhdCh2YWwpKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VOdW0gPSB2YWw7CiAgICAgIHRoaXMuZ2V0TWFya2V0TGlzdCgpOwogICAgICBjb25zb2xlLmxvZygiXHU1RjUzXHU1MjREXHU5ODc1OiAiLmNvbmNhdCh2YWwpKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlTmV4dDogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZU5leHQodmFsKSB7CiAgICAgIHRoaXMucGFnZU51bSA9IHZhbDsKICAgICAgY29uc29sZS5sb2coIlx1NEUwQlx1NEUwMFx1OTg3NTogIi5jb25jYXQodmFsKSk7CiAgICB9LAogICAgLy8g5Zu+54mH5LiK5Lyg77yM5aSE55CG5Ye95pWwCiAgICBoYW5kbGVJbWFnZVByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZUltYWdlUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMubWFya2V0LmJhbm5lckltYWdlID0gZmlsZS51cmw7CiAgICB9LAogICAgaGFuZGxlSW1hZ2VSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZUltYWdlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMubWFya2V0LmJhbm5lckltYWdlID0gJyc7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVJbWFnZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUltYWdlU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLm1hcmtldC5iYW5uZXJJbWFnZSA9IHJlc3BvbnNlLmRhdGE7CiAgICB9LAogICAgLy8g5re75Yqg5rS75YqoCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfmt7vliqDmtLvliqgnOwogICAgICB0aGlzLm9wZXJhdGVUeXBlID0gJ2FkZCc7CiAgICAgIHRoaXMuc2VsZWN0ZWRHb29kc0xpc3QgPSBbXTsKICAgICAgdGhpcy5tYXJrZXREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnvJbovpHmtLvliqgKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocm93KSB7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn57yW6L6R5rS75YqoJzsKICAgICAgdGhpcy5vcGVyYXRlVHlwZSA9ICdlZGl0JzsKICAgICAgdGhpcy5tYXJrZXQuaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMubWFya2V0Lm5hbWUgPSByb3cubmFtZTsKICAgICAgdGhpcy5tYXJrZXQudHlwZSA9IHJvdy50eXBlOwogICAgICB0aGlzLm1hcmtldC5iYW5uZXJJbWFnZSA9IHJvdy5iYW5uZXJJbWFnZTsKICAgICAgdGhpcy5waWN0dXJlTGlzdC5wdXNoKHsKICAgICAgICB1cmw6IHJvdy5iYW5uZXJJbWFnZQogICAgICB9KTsKICAgICAgdGhpcy5tYXJrZXQuYmVnaW5UaW1lID0gcm93LmJlZ2luVGltZTsKICAgICAgdGhpcy5tYXJrZXQub3ZlclRpbWUgPSByb3cub3ZlclRpbWU7CiAgICAgIHRoaXMubWFya2V0Lmdvb2RzSWRzID0gcm93Lmdvb2RzSWRzOwogICAgICB0aGlzLm1hcmtldC5zdGF0dXMgPSByb3cuc3RhdHVzOwogICAgICB0aGlzLmdvb2RzSWRzID0gcm93Lmdvb2RzSWRzLnNwbGl0KCcsJyk7CiAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRHb29kc0xpc3Qocm93Lmdvb2RzSWRzKTsKICAgICAgdGhpcy5tYXJrZXREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDojrflj5bokKXplIDmtLvliqjliJfooagKICAgIGdldE1hcmtldExpc3Q6IGZ1bmN0aW9uIGdldE1hcmtldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoJy9tYXJrZXQvbGlzdCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLnF1ZXJ5LmlkLAogICAgICAgICAgdHlwZTogdGhpcy5xdWVyeS50eXBlLAogICAgICAgICAgc3RhdHVzOiB0aGlzLnF1ZXJ5LnN0YXR1cywKICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgc2lkOiBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2lkJykpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLm1hcmtldExpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEubGlzdDsKCiAgICAgICAgaWYgKF90aGlzLm1hcmtldExpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBfdGhpcy5zaG93RW1wdHkgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlvIDlkK/jgIHlhbPpl63mtLvliqgKICAgIGNoYW5nZVN0YXR1czogZnVuY3Rpb24gY2hhbmdlU3RhdHVzKHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cuc3RhdHVzKTsKICAgICAgdGhpcy4kYXhpb3MucHV0KCcvbWFya2V0L3N0YXR1cy91cGRhdGUnLCB7CiAgICAgICAgaWQ6IHJvdy5pZCwKICAgICAgICBzdGF0dXM6IHBhcnNlSW50KHJvdy5zdGF0dXMpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwICYmIHJvdy5zdGF0dXMgPT09IDEpIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfmtLvliqjlt7LlvIDlkK8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwICYmIHJvdy5zdGF0dXMgPT09IDIpIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfmtLvliqjlt7LlhbPpl60nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqDlhbPogZTllYblk4EKICAgIGFkZEdvb2RzOiBmdW5jdGlvbiBhZGRHb29kcygpIHsKICAgICAgdGhpcy5nZXRHb29kc0xpc3QoKTsKICAgICAgdGhpcy5nb29kc1BvcG92ZXJWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDpgInkuK3ml7bvvIzojrflj5bllYblk4FJRAogICAgc2VsZWN0ZWRHb29kc0lkczogZnVuY3Rpb24gc2VsZWN0ZWRHb29kc0lkcyhzZWxlY3Rpb24sIHJvdykgewogICAgICB0aGlzLmdvb2RzSWRzLnB1c2gocm93LmlkKTsKICAgIH0sCiAgICAvLyDnoa7orqTpgInkuK3nmoTllYblk4EKICAgIGNvbmZpcm1TZWxlY3RlZEdvb2RzOiBmdW5jdGlvbiBjb25maXJtU2VsZWN0ZWRHb29kcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkR29vZHNMaXN0ID0gW107CiAgICAgIHRoaXMubWFya2V0Lmdvb2RzSWRzID0gdGhpcy5nb29kc0lkcy50b1N0cmluZygpOwogICAgICB0aGlzLmdvb2RzTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczIuZ29vZHNJZHMuc29tZShmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgIGlmIChpZCA9PT0gaXRlbS5pZCkgewogICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRHb29kc0xpc3QucHVzaChpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ29vZHNQb3BvdmVyVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOenu+mZpOmAieS4reeahOWVhuWTgQogICAgcmVtb3ZlU2VsZWN0ZWRHb29kczogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWRHb29kcyhyb3cpIHsKICAgICAgdGhpcy5zZWxlY3RlZEdvb2RzTGlzdC5zcGxpY2UodGhpcy5zZWxlY3RlZEdvb2RzTGlzdC5pbmRleE9mKHJvdy5pZCksIDEpOwogICAgICB0aGlzLmdvb2RzSWRzLnNwbGljZSh0aGlzLmdvb2RzSWRzLmluZGV4T2Yocm93LmlkKSwgMSk7CiAgICAgIHRoaXMubWFya2V0Lmdvb2RzSWRzID0gdGhpcy5nb29kc0lkcy50b1N0cmluZygpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmdvb2RzSWRzKTsKICAgIH0sCiAgICAvLyDojrflj5blt7LkuIrmnrbllYblk4HliJfooagKICAgIGdldEdvb2RzTGlzdDogZnVuY3Rpb24gZ2V0R29vZHNMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLmdldCgnL21hcmtldC9nb29kcy9saXN0JywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ29vZHNJZHM6ICIiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5nb29kc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5bey5YWz6IGU55qE5ZWG5ZOB5YiX6KGoCiAgICBnZXRTZWxlY3RlZEdvb2RzTGlzdDogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRHb29kc0xpc3QoZ29vZHNJZHMpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoJy9tYXJrZXQvZ29vZHMvbGlzdCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGdvb2RzSWRzOiBnb29kc0lkcwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQuc2VsZWN0ZWRHb29kc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56Gu6K6k5re75Yqg5oiW57yW6L6R5rS75YqoCiAgICBjb25maXJtTWFya2V0OiBmdW5jdGlvbiBjb25maXJtTWFya2V0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ3J1bGVGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXM1Lm9wZXJhdGVUeXBlID09PSAnYWRkJykgewogICAgICAgICAgICAvLyDmt7vliqDmtLvliqgKICAgICAgICAgICAgX3RoaXM1LiRheGlvcy5wb3N0KCcvbWFya2V0L2NyZWF0ZScsIHsKICAgICAgICAgICAgICBuYW1lOiBfdGhpczUubWFya2V0Lm5hbWUsCiAgICAgICAgICAgICAgdHlwZTogX3RoaXM1Lm1hcmtldC50eXBlLAogICAgICAgICAgICAgIGJhbm5lckltYWdlOiBfdGhpczUubWFya2V0LmJhbm5lckltYWdlLAogICAgICAgICAgICAgIGJlZ2luVGltZTogX3RoaXM1Lm1hcmtldC5iZWdpblRpbWUsCiAgICAgICAgICAgICAgb3ZlclRpbWU6IF90aGlzNS5tYXJrZXQub3ZlclRpbWUsCiAgICAgICAgICAgICAgZ29vZHNJZHM6IF90aGlzNS5tYXJrZXQuZ29vZHNJZHMsCiAgICAgICAgICAgICAgc2lkOiBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2lkJykpCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczUuZ2V0TWFya2V0TGlzdCgpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpczUub3BlcmF0ZVR5cGUgPT09ICdlZGl0JykgewogICAgICAgICAgICAvLyDnvJbovpHmtLvliqgKICAgICAgICAgICAgX3RoaXM1LiRheGlvcy5wdXQoJy9tYXJrZXQvdXBkYXRlJywgewogICAgICAgICAgICAgIGlkOiBfdGhpczUubWFya2V0LmlkLAogICAgICAgICAgICAgIG5hbWU6IF90aGlzNS5tYXJrZXQubmFtZSwKICAgICAgICAgICAgICB0eXBlOiBfdGhpczUubWFya2V0LnR5cGUsCiAgICAgICAgICAgICAgYmFubmVySW1hZ2U6IF90aGlzNS5tYXJrZXQuYmFubmVySW1hZ2UsCiAgICAgICAgICAgICAgYmVnaW5UaW1lOiBfdGhpczUubWFya2V0LmJlZ2luVGltZSwKICAgICAgICAgICAgICBvdmVyVGltZTogX3RoaXM1Lm1hcmtldC5vdmVyVGltZSwKICAgICAgICAgICAgICBnb29kc0lkczogX3RoaXM1Lm1hcmtldC5nb29kc0lkcywKICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzNS5tYXJrZXQuc3RhdHVzCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczUuZ2V0TWFya2V0TGlzdCgpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5tYXJrZXREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5rS75YqoCiAgICBkZWxldGVNYXJrZXQ6IGZ1bmN0aW9uIGRlbGV0ZU1hcmtldChyb3cpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5kZWxldGUoJy9tYXJrZXQvZGVsZXRlJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHJvdy5pZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzNi5nZXRNYXJrZXRMaXN0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcmVmc1sncnVsZUZvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmVtcHR5KCk7CiAgICAgIHRoaXMubWFya2V0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOmHjee9ruihqOWNlQogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKCiAgICAgIHN3aXRjaCAoZm9ybU5hbWUpIHsKICAgICAgICBjYXNlICdxdWVyeSc6CiAgICAgICAgICB0aGlzLmdldE1hcmtldExpc3QoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdydWxlRm9ybSc6CiAgICAgICAgICB0aGlzLmVtcHR5KCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnZhbGlkIHJlc2V0Rm9ybScpOwogICAgICB9CiAgICB9LAogICAgLy8g5riF56m65pWw5o2uCiAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7CiAgICAgIHRoaXMubWFya2V0LmJhbm5lckltYWdlID0gJycsIHRoaXMubWFya2V0Lm5hbWUgPSAnJywgdGhpcy5tYXJrZXQudHlwZSA9ICcnLCB0aGlzLm1hcmtldC5iZWdpblRpbWUgPSAnJywgdGhpcy5tYXJrZXQub3ZlclRpbWUgPSAnJywgdGhpcy5tYXJrZXQuZ29vZHNJZHMgPSAnJywgdGhpcy5nb29kc0lkcyA9ICcnOwogICAgICB0aGlzLnNlbGVjdGVkR29vZHNMaXN0ID0gW107CiAgICAgIHRoaXMucGljdHVyZUxpc3QgPSBbXTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;AAkMA,OAAOA,SAAP,MAAsB,wBAAtB;AACA,SAAQC,KAAR,EAAeC,KAAf,EAAsBC,IAAtB,EAA4BC,MAA5B,EAAoCC,KAApC,EAA2CC,aAA3C,QAA+D,yBAA/D;AACA,SAAQC,SAAR,QAAwB,cAAxB;AAEA,eAAe;AACbC,MAAI,EAAE,QADO;AAEbC,YAAU,EAAE;AAACT,aAAS,EAATA,SAAD;AAAYK,SAAK,EAALA;AAAZ,GAFC;AAGbK,OAHa,mBAGL;AACN,WAAO;AAACN,YAAM,EAANA,MAAD;AAASH,WAAK,EAALA,KAAT;AAAgBE,UAAI,EAAJA,IAAhB;AAAsBD,WAAK,EAALA,KAAtB;AAA6BI,mBAAa,EAAbA;AAA7B,KAAP;AACD,GALY;AAMbK,MANa,kBAMN;AACL,WAAO;AACLC,WAAK,EAAE;AACLC,UAAE,EAAE,EADC;AAELC,YAAI,EAAE,EAFD;AAGLC,cAAM,EAAE;AAHH,OADF;AAMLC,gBAAU,EAAE,EANP;AAOLC,eAAS,EAAE,EAPN;AAQLC,YAAM,EAAE;AACNL,UAAE,EAAE,EADE;AAENM,mBAAW,EAAE,EAFP;AAGNX,YAAI,EAAE,EAHA;AAINM,YAAI,EAAE,EAJA;AAKNM,iBAAS,EAAE,EALL;AAMNC,gBAAQ,EAAE,EANJ;AAONC,gBAAQ,EAAE,EAPJ;AAQNP,cAAM,EAAE;AARF,OARH;AAkBLQ,gBAAU,EAAE,CAAC;AACXC,aAAK,EAAE,CADI;AAEXC,aAAK,EAAE;AAFI,OAAD,EAGT;AACDD,aAAK,EAAE,CADN;AAEDC,aAAK,EAAE;AAFN,OAHS,CAlBP;AA0BLC,WAAK,EAAE;AACLlB,YAAI,EAAE;AAAEmB,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,SAA3B;AAAsCC,iBAAO,EAAE;AAA/C,SADD;AAELV,mBAAW,EAAE;AAAEQ,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,UAA3B;AAAuCC,iBAAO,EAAE;AAAhD,SAFR;AAGLf,YAAI,EAAE;AAAEa,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,SAA3B;AAAsCC,iBAAO,EAAE;AAA/C,SAHD;AAILT,iBAAS,EAAE;AAAEO,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,SAA3B;AAAsCC,iBAAO,EAAE;AAA/C,SAJN;AAKLR,gBAAQ,EAAE;AAAEM,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,SAA3B;AAAsCC,iBAAO,EAAE;AAA/C,SALL;AAMLP,gBAAQ,EAAE;AAAEK,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,UAA3B;AAAuCC,iBAAO,EAAE;AAAhD;AANL,OA1BF;AAoCL;AACAC,iBAAW,EAAE,EArCR;AAuCLR,cAAQ,EAAE,EAvCL;AAwCLS,uBAAiB,EAAE,EAxCd;AA0CLC,cAAQ,EAAE,EA1CL;AA4CL;AACAC,WAAK,EAAE,CA7CF;AA8CLC,aAAO,EAAE,CA9CJ;AA+CLC,cAAQ,EAAE,EA/CL;AAiDL;AACAC,iBAAW,EAAE,EAlDR;AAmDLC,iBAAW,EAAE,EAnDR;AAoDLC,yBAAmB,EAAE,KApDhB;AAqDLC,yBAAmB,EAAE,KArDhB;AAuDL;AACAC,WAAK,EAAE,EAxDF;AA0DL;AACAC,eAAS,EAAE;AA3DN,KAAP;AA6DD,GApEY;AAqEbC,SArEa,qBAqEH;AACR,SAAKC,aAAL;AACA,SAAKH,KAAL,GAAaI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAb;AACD,GAxEY;AAyEbC,SAAO,EAAE;AACP;AACAC,2BAFO,mCAEiBC,GAFjB,EAEsB;AAC3B,WAAKd,OAAL,GAAec,GAAf;AACAC,aAAO,CAACC,GAAR,+BAAoBF,GAApB;AACD,KALM;AAMPG,uBANO,+BAMaH,GANb,EAMkB;AACvB,WAAKd,OAAL,GAAec,GAAf;AACA,WAAKL,aAAL;AACAM,aAAO,CAACC,GAAR,+BAAoBF,GAApB;AACD,KAVM;AAWPI,2BAXO,mCAWiBJ,GAXjB,EAWsB;AAC3B,WAAKd,OAAL,GAAec,GAAf;AACAC,aAAO,CAACC,GAAR,+BAAoBF,GAApB;AACD,KAdM;AAgBP;AACAK,sBAjBO,8BAiBYC,IAjBZ,EAiBkB;AACvB,WAAKpC,MAAL,CAAYC,WAAZ,GAA0BmC,IAAI,CAACC,GAA/B;AACD,KAnBM;AAoBPC,qBApBO,6BAoBWF,IApBX,EAoBiBG,QApBjB,EAoB2B;AAChC,WAAKvC,MAAL,CAAYC,WAAZ,GAA0B,EAA1B;AACA8B,aAAO,CAACC,GAAR,CAAYI,IAAZ,EAAkBG,QAAlB;AACD,KAvBM;AAwBPC,sBAxBO,8BAwBYC,QAxBZ,EAwBsB;AAC3B,WAAKzC,MAAL,CAAYC,WAAZ,GAA0BwC,QAAQ,CAAChD,IAAnC;AACD,KA1BM;AA4BP;AACAiD,OA7BO,iBA6BD;AACJ,WAAKxB,WAAL,GAAmB,MAAnB;AACA,WAAKC,WAAL,GAAmB,KAAnB;AACA,WAAKN,iBAAL,GAAyB,EAAzB;AACA,WAAKO,mBAAL,GAA2B,IAA3B;AACD,KAlCM;AAoCP;AACAuB,QArCO,gBAqCFC,GArCE,EAqCG;AACR,WAAK1B,WAAL,GAAmB,MAAnB;AACA,WAAKC,WAAL,GAAmB,MAAnB;AACA,WAAKnB,MAAL,CAAYL,EAAZ,GAAiBiD,GAAG,CAACjD,EAArB;AACA,WAAKK,MAAL,CAAYV,IAAZ,GAAmBsD,GAAG,CAACtD,IAAvB;AACA,WAAKU,MAAL,CAAYJ,IAAZ,GAAmBgD,GAAG,CAAChD,IAAvB;AACA,WAAKI,MAAL,CAAYC,WAAZ,GAA0B2C,GAAG,CAAC3C,WAA9B;AACA,WAAKW,WAAL,CAAiBiC,IAAjB,CAAsB;AAACR,WAAG,EAAEO,GAAG,CAAC3C;AAAV,OAAtB;AACA,WAAKD,MAAL,CAAYE,SAAZ,GAAwB0C,GAAG,CAAC1C,SAA5B;AACA,WAAKF,MAAL,CAAYG,QAAZ,GAAuByC,GAAG,CAACzC,QAA3B;AACA,WAAKH,MAAL,CAAYI,QAAZ,GAAuBwC,GAAG,CAACxC,QAA3B;AACA,WAAKJ,MAAL,CAAYH,MAAZ,GAAqB+C,GAAG,CAAC/C,MAAzB;AACA,WAAKO,QAAL,GAAgBwC,GAAG,CAACxC,QAAJ,CAAa0C,KAAb,CAAmB,GAAnB,CAAhB;AACA,WAAKC,oBAAL,CAA0BH,GAAG,CAACxC,QAA9B;AACA,WAAKgB,mBAAL,GAA2B,IAA3B;AACD,KApDM;AAsDP;AACAK,iBAvDO,2BAuDS;AAAA;;AACd,WAAKuB,MAAL,CAAYC,GAAZ,CAAgB,cAAhB,EAAgC;AAC9BC,cAAM,EAAE;AACNvD,YAAE,EAAE,KAAKD,KAAL,CAAWC,EADT;AAENC,cAAI,EAAE,KAAKF,KAAL,CAAWE,IAFX;AAGNC,gBAAM,EAAE,KAAKH,KAAL,CAAWG,MAHb;AAINmB,iBAAO,EAAE,KAAKA,OAJR;AAKNC,kBAAQ,EAAE,KAAKA,QALT;AAMNkC,aAAG,EAAEC,QAAQ,CAAC1B,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAD;AANP;AADsB,OAAhC,EASG0B,IATH,CASQ,UAACZ,QAAD,EAAc;AACpB,aAAI,CAAC1B,KAAL,GAAa0B,QAAQ,CAAChD,IAAT,CAAcA,IAAd,CAAmBsB,KAAhC;AACA,aAAI,CAACjB,UAAL,GAAkB2C,QAAQ,CAAChD,IAAT,CAAcA,IAAd,CAAmB6D,IAArC;;AACA,YAAI,KAAI,CAACxD,UAAL,CAAgByD,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,eAAI,CAAChC,SAAL,GAAiB,IAAjB;AACF;AACD,OAfD,EAeGiC,KAfH,CAeS,UAACC,KAAD,EAAW;AAClB1B,eAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,OAjBD;AAkBD,KA1EM;AA4EP;AACAC,gBA7EO,wBA6EMd,GA7EN,EA6EU;AACfb,aAAO,CAACC,GAAR,CAAYY,GAAG,CAAC/C,MAAhB;AACA,WAAKmD,MAAL,CAAYW,GAAZ,CAAgB,uBAAhB,EAAyC;AACvChE,UAAE,EAAEiD,GAAG,CAACjD,EAD+B;AAEvCE,cAAM,EAAEuD,QAAQ,CAACR,GAAG,CAAC/C,MAAL;AAFuB,OAAzC,EAGGwD,IAHH,CAGQ,UAACZ,QAAD,EAAc;AACpB,YAAIA,QAAQ,CAAChD,IAAT,CAAcmE,IAAd,KAAuB,GAAvB,IAA8BhB,GAAG,CAAC/C,MAAJ,KAAe,CAAjD,EAAmD;AACjDR,mBAAS,CAAC;AAACqB,mBAAO,EAAE,OAAV;AAAmBd,gBAAI,EAAE;AAAzB,WAAD,CAAT;AACF;;AACA,YAAI6C,QAAQ,CAAChD,IAAT,CAAcmE,IAAd,KAAuB,GAAvB,IAA8BhB,GAAG,CAAC/C,MAAJ,KAAe,CAAjD,EAAmD;AACjDR,mBAAS,CAAC;AAACqB,mBAAO,EAAE,OAAV;AAAmBd,gBAAI,EAAE;AAAzB,WAAD,CAAT;AACF;AACD,OAVD,EAUG4D,KAVH,CAUS,UAACC,KAAD,EAAW;AAClB1B,eAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,OAZD;AAaD,KA5FM;AA8FP;AACAI,YA/FO,sBA+FI;AACT,WAAKC,YAAL;AACA,WAAKzC,mBAAL,GAA2B,IAA3B;AACD,KAlGM;AAoGP;AACA0C,oBArGO,4BAqGUC,SArGV,EAqGqBpB,GArGrB,EAqG0B;AAC/B,WAAKxC,QAAL,CAAcyC,IAAd,CAAmBD,GAAG,CAACjD,EAAvB;AACD,KAvGM;AAyGP;AACAsE,wBA1GO,kCA0GgB;AAAA;;AACrB,WAAKpD,iBAAL,GAAyB,EAAzB;AACA,WAAKb,MAAL,CAAYI,QAAZ,GAAuB,KAAKA,QAAL,CAAc8D,QAAd,EAAvB;AACA,WAAKnE,SAAL,CAAeoE,MAAf,CAAsB,cAAG,EAAK;AAC5B,cAAI,CAAC/D,QAAL,CAAcgE,IAAd,CAAmB,YAAC,EAAK;AAAE,cAAIzE,EAAC,KAAM0E,IAAI,CAAC1E,EAAhB,EAAmB;AAAE,kBAAI,CAACkB,iBAAL,CAAuBgC,IAAvB,CAA4BwB,IAA5B;AAAkC;AAAG,SAArF;AACD,OAFD;AAGA,WAAKhD,mBAAL,GAA2B,KAA3B;AACD,KAjHM;AAmHP;AACAiD,uBApHO,+BAoHa1B,GApHb,EAoHiB;AACtB,WAAK/B,iBAAL,CAAuB0D,MAAvB,CAA8B,KAAK1D,iBAAL,CAAuB2D,OAAvB,CAA+B5B,GAAG,CAACjD,EAAnC,CAA9B,EAAsE,CAAtE;AACA,WAAKS,QAAL,CAAcmE,MAAd,CAAqB,KAAKnE,QAAL,CAAcoE,OAAd,CAAsB5B,GAAG,CAACjD,EAA1B,CAArB,EAAoD,CAApD;AACA,WAAKK,MAAL,CAAYI,QAAZ,GAAuB,KAAKA,QAAL,CAAc8D,QAAd,EAAvB;AACAnC,aAAO,CAACC,GAAR,CAAY,KAAK5B,QAAjB;AACD,KAzHM;AA2HP;AACA0D,gBA5HO,0BA4HQ;AAAA;;AACb,WAAKd,MAAL,CAAYC,GAAZ,CAAgB,oBAAhB,EAAsC;AACpCC,cAAM,EAAE;AAAE9C,kBAAQ,EAAE;AAAZ;AAD4B,OAAtC,EAEGiD,IAFH,CAEQ,UAACZ,QAAD,EAAc;AACpB,cAAI,CAAC1C,SAAL,GAAiB0C,QAAQ,CAAChD,IAAT,CAAcA,IAA/B;AACD,OAJD,EAIG+D,KAJH,CAIS,UAACC,KAAD,EAAW;AAClB1B,eAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,OAND;AAOD,KApIM;AAsIP;AACAV,wBAvIO,gCAuIc3C,QAvId,EAuIwB;AAAA;;AAC7B,WAAK4C,MAAL,CAAYC,GAAZ,CAAgB,oBAAhB,EAAsC;AACpCC,cAAM,EAAE;AAAE9C,kBAAQ,EAAEA;AAAZ;AAD4B,OAAtC,EAEGiD,IAFH,CAEQ,UAACZ,QAAD,EAAc;AACpB,cAAI,CAAC5B,iBAAL,GAAyB4B,QAAQ,CAAChD,IAAT,CAAcA,IAAvC;AACD,OAJD,EAIG+D,KAJH,CAIS,UAACC,KAAD,EAAW;AAClB1B,eAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,OAND;AAOD,KA/IM;AAiJP;AACAgB,iBAlJO,2BAkJS;AAAA;;AACd,WAAKC,KAAL,CAAW,UAAX,EAAuBC,QAAvB,CAAgC,UAACC,KAAD,EAAW;AACzC,YAAIA,KAAJ,EAAW;AACT,cAAI,MAAI,CAACzD,WAAL,KAAqB,KAAzB,EAAgC;AAC9B;AACA,kBAAI,CAAC6B,MAAL,CAAY6B,IAAZ,CAAiB,gBAAjB,EAAmC;AACjCvF,kBAAI,EAAE,MAAI,CAACU,MAAL,CAAYV,IADe;AAEjCM,kBAAI,EAAE,MAAI,CAACI,MAAL,CAAYJ,IAFe;AAGjCK,yBAAW,EAAE,MAAI,CAACD,MAAL,CAAYC,WAHQ;AAIjCC,uBAAS,EAAE,MAAI,CAACF,MAAL,CAAYE,SAJU;AAKjCC,sBAAQ,EAAE,MAAI,CAACH,MAAL,CAAYG,QALW;AAMjCC,sBAAQ,EAAE,MAAI,CAACJ,MAAL,CAAYI,QANW;AAOjC+C,iBAAG,EAAEC,QAAQ,CAAC1B,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAD;AAPoB,aAAnC,EAQG0B,IARH,CAQQ,UAACZ,QAAD,EAAc;AACpB,kBAAIA,QAAQ,CAAChD,IAAT,CAAcmE,IAAd,KAAuB,GAA3B,EAAgC;AAC9BvE,yBAAS,CAAC;AAACqB,yBAAO,EAAE+B,QAAQ,CAAChD,IAAT,CAAciB,OAAxB;AAAiCd,sBAAI,EAAE;AAAvC,iBAAD,CAAT;AACF;;AACA,oBAAI,CAAC6B,aAAL;AACD,aAbD,EAaG+B,KAbH,CAaS,UAACC,KAAD,EAAW;AAClB1B,qBAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,aAfD;AAgBF;;AACA,cAAI,MAAI,CAACtC,WAAL,KAAqB,MAAzB,EAAiC;AAC/B;AACA,kBAAI,CAAC6B,MAAL,CAAYW,GAAZ,CAAgB,gBAAhB,EAAkC;AAChChE,gBAAE,EAAE,MAAI,CAACK,MAAL,CAAYL,EADgB;AAEhCL,kBAAI,EAAE,MAAI,CAACU,MAAL,CAAYV,IAFc;AAGhCM,kBAAI,EAAE,MAAI,CAACI,MAAL,CAAYJ,IAHc;AAIhCK,yBAAW,EAAE,MAAI,CAACD,MAAL,CAAYC,WAJO;AAKhCC,uBAAS,EAAE,MAAI,CAACF,MAAL,CAAYE,SALS;AAMhCC,sBAAQ,EAAE,MAAI,CAACH,MAAL,CAAYG,QANU;AAOhCC,sBAAQ,EAAE,MAAI,CAACJ,MAAL,CAAYI,QAPU;AAQhCP,oBAAM,EAAE,MAAI,CAACG,MAAL,CAAYH;AARY,aAAlC,EASGwD,IATH,CASQ,UAACZ,QAAD,EAAc;AACpB,kBAAIA,QAAQ,CAAChD,IAAT,CAAcmE,IAAd,KAAuB,GAA3B,EAAgC;AAC9BvE,yBAAS,CAAC;AAACqB,yBAAO,EAAE+B,QAAQ,CAAChD,IAAT,CAAciB,OAAxB;AAAiCd,sBAAI,EAAE;AAAvC,iBAAD,CAAT;AACF;;AACA,oBAAI,CAAC6B,aAAL;AACD,aAdD,EAcG+B,KAdH,CAcS,UAACC,KAAD,EAAW;AAClB1B,qBAAO,CAACC,GAAR,CAAYyB,KAAZ;AACD,aAhBD;AAiBF;;AACA,gBAAI,CAACrC,mBAAL,GAA2B,KAA3B;AACF,SAzCA,MAyCO;AACLW,iBAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,iBAAO,KAAP;AACF;AACD,OA9CD;AA+CD,KAlMM;AAoMP;AACA8C,gBArMO,wBAqMMlC,GArMN,EAqMW;AAAA;;AAChB,WAAKI,MAAL,CAAY+B,MAAZ,CAAmB,gBAAnB,EAAqC;AACjC7B,cAAM,EAAE;AACNvD,YAAE,EAAEiD,GAAG,CAACjD;AADF;AADyB,OAArC,EAIK0D,IAJL,CAIU,UAACZ,QAAD,EAAc;AACpB,YAAIA,QAAQ,CAAChD,IAAT,CAAcmE,IAAd,KAAuB,GAA3B,EAAgC;AAC9BvE,mBAAS,CAAC;AAACqB,mBAAO,EAAE+B,QAAQ,CAAChD,IAAT,CAAciB,OAAxB;AAAiCd,gBAAI,EAAE;AAAvC,WAAD,CAAT;AACF;;AACA,cAAI,CAAC6B,aAAL;AACD,OATH,EASK+B,KATL,CASW,UAACC,KAAD,EAAW;AAClB1B,eAAO,CAACC,GAAR,CAAYyB,KAAZ;AACH,OAXD;AAYD,KAlNM;AAoNP;AACAuB,UArNO,oBAqNE;AACP,WAAKN,KAAL,CAAW,UAAX,EAAuBO,WAAvB;AACA,WAAKC,KAAL;AACA,WAAK9D,mBAAL,GAA2B,KAA3B;AACD,KAzNM;AA2NP;AACA+D,aA5NO,qBA4NGC,QA5NH,EA4Na;AAClB,WAAKV,KAAL,CAAWU,QAAX,EAAqBH,WAArB;;AACA,cAAQG,QAAR;AACE,aAAK,OAAL;AAAc,eAAK3D,aAAL;AAAsB;;AACpC,aAAK,UAAL;AAAiB,eAAKyD,KAAL;AAAc;;AAC/B;AAASnD,iBAAO,CAACC,GAAR,CAAY,mBAAZ;AAHX;AAKD,KAnOM;AAqOP;AACAkD,SAtOO,mBAsOC;AACN,WAAKlF,MAAL,CAAYC,WAAZ,GAA0B,EAA1B,EACA,KAAKD,MAAL,CAAYV,IAAZ,GAAmB,EADnB,EAEA,KAAKU,MAAL,CAAYJ,IAAZ,GAAmB,EAFnB,EAGA,KAAKI,MAAL,CAAYE,SAAZ,GAAwB,EAHxB,EAIA,KAAKF,MAAL,CAAYG,QAAZ,GAAuB,EAJvB,EAKA,KAAKH,MAAL,CAAYI,QAAZ,GAAuB,EALvB,EAMA,KAAKA,QAAL,GAAgB,EANhB;AAOA,WAAKS,iBAAL,GAAyB,EAAzB;AACA,WAAKD,WAAL,GAAmB,EAAnB;AACD;AAhPM;AAzEI,CAAf","names":["container","Brush","Minus","Plus","Search","Timer","WarningFilled","ElMessage","name","components","setup","data","query","id","type","status","marketList","goodsList","market","bannerImage","beginTime","overTime","goodsIds","typeOption","value","label","rules","required","message","trigger","pictureList","selectedGoodsList","marketId","total","pageNum","pageSize","dialogTitle","operateType","marketDialogVisible","goodsPopoverVisible","token","showEmpty","mounted","getMarketList","localStorage","getItem","methods","handleCurrentChangePrev","val","console","log","handleCurrentChange","handleCurrentChangeNext","handleImagePreview","file","url","handleImageRemove","fileList","handleImageSuccess","response","add","edit","row","push","split","getSelectedGoodsList","$axios","get","params","sid","parseInt","then","list","length","catch","error","changeStatus","put","code","addGoods","getGoodsList","selectedGoodsIds","selection","confirmSelectedGoods","toString","filter","some","item","removeSelectedGoods","splice","indexOf","confirmMarket","$refs","validate","valid","post","deleteMarket","delete","cancel","resetFields","empty","resetForm","formName"],"sourceRoot":"","sources":["D:\\go-workspace\\mall\\web\\src\\view\\Market.vue"],"sourcesContent":["<template>\r\n  <container>\r\n    <!-- 活动查询 -->\r\n    <el-form :inline=\"true\" :model=\"query\" ref=\"query\" class=\"goods_query_form\">\r\n      <el-form-item prop=\"id\">\r\n        <el-input v-model.number=\"query.id\" placeholder=\"活动ID\"/>\r\n      </el-form-item>\r\n      <el-form-item prop=\"status\">\r\n        <el-select v-model=\"query.type\" placeholder=\"活动类型\">\r\n          <el-option label=\"钻石展位\" value=\"1\"></el-option>\r\n          <el-option label=\"限时特惠\" value=\"2\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item prop=\"status\">\r\n        <el-select v-model=\"query.status\" placeholder=\"活动状态\">\r\n          <el-option label=\"进行中\" value=\"1\"></el-option>\r\n          <el-option label=\"已结束\" value=\"2\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" :icon=\"Search\" @click=\"getMarketList\">查询</el-button>\r\n        <el-button type=\"primary\" :icon=\"Brush\" @click=\"resetForm\"/>\r\n        <el-button type=\"primary\" :icon=\"Plus\" @click=\"add\">活动</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 活动列表 -->\r\n    <el-table :data=\"marketList\" height=\"65vh\" style=\"width: 100%\">\r\n     <el-table-column prop=\"bannerImage\" label=\"活动图片\" min-width=\"50\">\r\n        <template #default=\"scope\">\r\n          <el-image :src=\"scope.row.bannerImage\" style=\"border-radius: 5px;\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"活动名称\"/>\r\n      <el-table-column prop=\"type\" label=\"活动类型\" min-width=\"50\">\r\n        <template #default=\"scope\">\r\n          <el-tag v-if=\"scope.row.type === 1\" type=\"primary\">新品推荐</el-tag>\r\n          <el-tag v-if=\"scope.row.type === 2\" type=\"primary\">限时特惠</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"beginTime\" label=\"开始时间\" min-width=\"100\">\r\n        <template #default=\"scope\">\r\n          <div style=\"display: flex; align-items: center\">\r\n            <el-icon>\r\n              <timer/>\r\n            </el-icon>\r\n            <span style=\"margin-left: 10px\">{{ scope.row.beginTime }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"overTime\" label=\"结束时间\" min-width=\"100\">\r\n        <template #default=\"scope\">\r\n          <div style=\"display: flex; align-items: center\">\r\n            <el-icon>\r\n              <timer/>\r\n            </el-icon>\r\n            <span style=\"margin-left: 10px\">{{ scope.row.overTime }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" min-width=\"50\">\r\n        <template #default=\"scope\">\r\n          <el-switch v-model=\"scope.row.status\" :active-value=\"1\" :inactive-value=\"2\" @click=\"changeStatus(scope.row)\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button size=\"small\" @click=\"edit(scope.row)\">编辑</el-button>\r\n          <el-popconfirm title=\"此操作将永久删除该信息, 是否继续?\"\r\n                         confirmButtonText=\"确认\"\r\n                         cancelButtonText=\"取消\"\r\n                         cancelButtonType=\"default\"\r\n                         :icon=\"WarningFilled\"\r\n                         @confirm=\"deleteMarket(scope.row)\">\r\n            <template #reference>\r\n             <el-button size=\"small\" type=\"danger\">删除</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n      <template #empty>\r\n        <div style=\"margin: 50px 0;\">\r\n          <el-empty v-if=\"showEmpty\" description=\"暂时还没有活动哦\" />\r\n        </div>\r\n      </template>\r\n    </el-table>\r\n    <div style=\"padding: 10px 0;\">\r\n      <el-pagination layout=\"total, prev, pager, next\"\r\n                   :current-page=\"pageNum\"\r\n                   :page-size=\"pageSize\"\r\n                   :total=\"total\"\r\n                   @current-change=\"handleCurrentChange\"\r\n                   @prev-click=\"handleCurrentChangePrev\"\r\n                   @next-click=\"handleCurrentChangeNext\" background/>\r\n    </div>\r\n    <!-- 添加、编辑营销，通用对话框 -->\r\n    <el-dialog :title=\"dialogTitle\" v-model=\"marketDialogVisible\" :lock-scroll=\"false\" top=\"5vh\" width=\"45%\"\r\n               @close=\"cancel\">\r\n      <el-form ref=\"ruleForm\" :rules=\"rules\" :model=\"market\" label-width=\"80px\">\r\n        <el-form-item label=\"活动名称\" prop=\"name\">\r\n          <el-input v-model=\"market.name\" type=\"text\" maxlength=\"20\" show-word-limit/>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动类型\" prop=\"type\">\r\n          <el-select v-model.number=\"market.type\" placeholder=\"请选择\" clearable>\r\n            <el-option v-for=\"item in typeOption\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"/>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动图片\" prop=\"bannerImage\">\r\n          <el-input v-show=\"false\" v-model=\"market.bannerImage\"/>\r\n          <el-upload\r\n              action=\"http://localhost:8000/web/upload\"\r\n              :headers=\"{'token': token}\"\r\n              :limit=\"1\"\r\n              name=\"file\"\r\n              :file-list=\"pictureList\"\r\n              list-type=\"picture-card\"\r\n              :on-preview=\"handleImagePreview\"\r\n              :on-remove=\"handleImageRemove\"\r\n              :on-success=\"handleImageSuccess\">\r\n            <div class=\"goods_image_upload_icon\">+</div>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" prop=\"beginTime\">\r\n          <el-date-picker v-model=\"market.beginTime\" value-format=\"YYYY-MM-DD HH:mm:ss\" type=\"datetime\" placeholder=\"请选择开始时间\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" prop=\"overTime\">\r\n          <el-date-picker v-model=\"market.overTime\" value-format=\"YYYY-MM-DD HH:mm:ss\" type=\"datetime\" placeholder=\"请选择结束时间\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"关联商品\" prop=\"goodsIds\">\r\n          <el-input v-show=\"false\" v-model=\"market.goodsIds\"/>\r\n          <el-table :data=\"selectedGoodsList\" style=\"width: 100%;\" empty-text=\"您还没有添加活动商品哦\">\r\n            <el-table-column prop=\"name\" label=\"主图\" width=\"60\">\r\n              <template #default=\"scope\">\r\n                <div style=\"display: flex;justify-content: center;align-items: center;\">\r\n                  <el-image class=\"goods_image\" :src=\"scope.row.imageUrl\"/>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"title\" label=\"标题\">\r\n              <template #default=\"scope\">\r\n                <div style=\"font-size: 10px;line-height: 15px;\">{{ scope.row.title }}</div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"price\" label=\"价格\" width=\"80\">\r\n              <template #default=\"scope\">¥ {{ scope.row.price }}</template>\r\n            </el-table-column>\r\n            <el-table-column align=\"right\">\r\n              <template #header>\r\n                <el-popover placement=\"left\" :width=\"350\" trigger=\"click\" :visible=\"goodsPopoverVisible\">\r\n                  <template #reference>\r\n                    <el-button size=\"small\" type=\"primary\" :icon=\"Plus\" @click=\"addGoods\"/>\r\n                  </template>\r\n                  <el-table :data=\"goodsList\" height=\"30vh\" style=\"width: 100%\" @select=\"selectedGoodsIds\">\r\n                    <el-table-column type=\"selection\" width=\"45\"/>\r\n                    <el-table-column prop=\"name\" label=\"主图\" width=\"60\">\r\n                      <template #default=\"scope\">\r\n                        <div style=\"display: flex;justify-content: center;align-items: center;\">\r\n                          <el-image class=\"goods_image\" :src=\"scope.row.imageUrl\"/>\r\n                        </div>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"title\" label=\"标题\">\r\n                      <template #default=\"scope\">\r\n                        <div style=\"font-size: 10px;line-height: 15px;\">{{ scope.row.title }}</div>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"price\" label=\"价格\" width=\"80\">\r\n                      <template #default=\"scope\">¥ {{ scope.row.price }}</template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                  <div style=\"text-align: right; margin: 0;padding-top: 10px;\">\r\n                    <el-button size=\"small\" @click=\"goodsPopoverVisible = false\">取消</el-button>\r\n                    <el-button size=\"small\" type=\"primary\" @click=\"confirmSelectedGoods\">确定</el-button>\r\n                  </div>\r\n                </el-popover>\r\n              </template>\r\n              <template #default=\"scope\">\r\n                <el-button size=\"small\" type=\"danger\" :icon=\"Minus\" @click=\"removeSelectedGoods(scope.row)\" />\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"cancel\">取消</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n          <el-button type=\"primary\" @click=\"confirmMarket\">确定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </container>\r\n</template>\r\n\r\n<script>\r\nimport container from \"@/components/container\";\r\nimport {Brush, Minus, Plus, Search, Timer, WarningFilled} from \"@element-plus/icons-vue\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  name: \"Market\",\r\n  components: {container, Timer},\r\n  setup() {\r\n    return {Search, Brush, Plus, Minus, WarningFilled}\r\n  },\r\n  data() {\r\n    return {\r\n      query: {\r\n        id: '',\r\n        type: '',\r\n        status: ''\r\n      },\r\n      marketList: [],\r\n      goodsList: [],\r\n      market: {\r\n        id: '',\r\n        bannerImage: '',\r\n        name: '',\r\n        type: '',\r\n        beginTime: '',\r\n        overTime: '',\r\n        goodsIds: '',\r\n        status: ''\r\n      },\r\n      typeOption: [{\r\n        value: 1,\r\n        label: '钻石展位'\r\n      }, {\r\n        value: 2,\r\n        label: '限时特惠'\r\n      }],\r\n\r\n      rules: {\r\n        name: { required: true, message: '请输入一个名称', trigger: 'blur' },\r\n        bannerImage: { required: true, message: '至少上传一张图片', trigger: 'blur' },\r\n        type: { required: true, message: '请选择活动类型', trigger: 'blur' },\r\n        beginTime: { required: true, message: '请设置开始时间', trigger: 'blur' },\r\n        overTime: { required: true, message: '请设置结束时间', trigger: 'blur' },\r\n        goodsIds: { required: true, message: '至少关联一个商品', trigger: 'blur' }\r\n      },\r\n\r\n\r\n      // 图片列表\r\n      pictureList: [],\r\n\r\n      goodsIds: [],\r\n      selectedGoodsList: [],\r\n\r\n      marketId: '',\r\n\r\n      // 分页\r\n      total: 0,\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n\r\n      // 操作状态\r\n      dialogTitle: '',\r\n      operateType: '',\r\n      marketDialogVisible: false,\r\n      goodsPopoverVisible: false,\r\n\r\n      // 请求认证\r\n      token: '',\r\n\r\n      // 空状态\r\n      showEmpty: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getMarketList()\r\n    this.token = localStorage.getItem('token')\r\n  },\r\n  methods: {\r\n    // 分页，处理函数\r\n    handleCurrentChangePrev(val) {\r\n      this.pageNum = val;\r\n      console.log(`上一页: ${val}`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNum = val;\r\n      this.getMarketList()\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    handleCurrentChangeNext(val) {\r\n      this.pageNum = val;\r\n      console.log(`下一页: ${val}`);\r\n    },\r\n\r\n    // 图片上传，处理函数\r\n    handleImagePreview(file) {\r\n      this.market.bannerImage = file.url\r\n    },\r\n    handleImageRemove(file, fileList) {\r\n      this.market.bannerImage = ''\r\n      console.log(file, fileList)\r\n    },\r\n    handleImageSuccess(response) {\r\n      this.market.bannerImage = response.data\r\n    },\r\n\r\n    // 添加活动\r\n    add() {\r\n      this.dialogTitle = '添加活动'\r\n      this.operateType = 'add'\r\n      this.selectedGoodsList = []\r\n      this.marketDialogVisible = true\r\n    },\r\n\r\n    // 编辑活动\r\n    edit(row) {\r\n      this.dialogTitle = '编辑活动'\r\n      this.operateType = 'edit'\r\n      this.market.id = row.id\r\n      this.market.name = row.name\r\n      this.market.type = row.type\r\n      this.market.bannerImage = row.bannerImage\r\n      this.pictureList.push({url: row.bannerImage})\r\n      this.market.beginTime = row.beginTime\r\n      this.market.overTime = row.overTime\r\n      this.market.goodsIds = row.goodsIds\r\n      this.market.status = row.status\r\n      this.goodsIds = row.goodsIds.split(',')\r\n      this.getSelectedGoodsList(row.goodsIds)\r\n      this.marketDialogVisible = true\r\n    },\r\n\r\n    // 获取营销活动列表\r\n    getMarketList() {\r\n      this.$axios.get('/market/list', {\r\n        params: {\r\n          id: this.query.id,\r\n          type: this.query.type,\r\n          status: this.query.status,\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          sid: parseInt(localStorage.getItem('sid'))\r\n        }\r\n      }).then((response) => {\r\n        this.total = response.data.data.total;\r\n        this.marketList = response.data.data.list;\r\n        if (this.marketList.length === 0) {\r\n          this.showEmpty = true\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n\r\n    // 开启、关闭活动\r\n    changeStatus(row){\r\n      console.log(row.status)\r\n      this.$axios.put('/market/status/update', {\r\n        id: row.id,\r\n        status: parseInt(row.status),\r\n      }).then((response) => {\r\n        if (response.data.code === 200 && row.status === 1){\r\n          ElMessage({message: '活动已开启', type: 'success'})\r\n        }\r\n        if (response.data.code === 200 && row.status === 2){\r\n          ElMessage({message: '活动已关闭', type: 'success'})\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n\r\n    // 添加关联商品\r\n    addGoods() {\r\n      this.getGoodsList()\r\n      this.goodsPopoverVisible = true\r\n    },\r\n\r\n    // 选中时，获取商品ID\r\n    selectedGoodsIds(selection, row) {\r\n      this.goodsIds.push(row.id)\r\n    },\r\n\r\n    // 确认选中的商品\r\n    confirmSelectedGoods() {\r\n      this.selectedGoodsList = []\r\n      this.market.goodsIds = this.goodsIds.toString()\r\n      this.goodsList.filter(item => {\r\n        this.goodsIds.some(id => { if (id === item.id){ this.selectedGoodsList.push(item) } })\r\n      })\r\n      this.goodsPopoverVisible = false\r\n    },\r\n\r\n    // 移除选中的商品\r\n    removeSelectedGoods(row){\r\n      this.selectedGoodsList.splice(this.selectedGoodsList.indexOf(row.id), 1)\r\n      this.goodsIds.splice(this.goodsIds.indexOf(row.id), 1)\r\n      this.market.goodsIds = this.goodsIds.toString()\r\n      console.log(this.goodsIds)\r\n    },\r\n\r\n    // 获取已上架商品列表\r\n    getGoodsList() {\r\n      this.$axios.get('/market/goods/list', {\r\n        params: { goodsIds: \"\" }\r\n      }).then((response) => {\r\n        this.goodsList = response.data.data;\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n\r\n    // 获取已关联的商品列表\r\n    getSelectedGoodsList(goodsIds) {\r\n      this.$axios.get('/market/goods/list', {\r\n        params: { goodsIds: goodsIds }\r\n      }).then((response) => {\r\n        this.selectedGoodsList = response.data.data;\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n\r\n    // 确认添加或编辑活动\r\n    confirmMarket() {\r\n      this.$refs['ruleForm'].validate((valid) => {\r\n        if (valid) {\r\n          if (this.operateType === 'add') {\r\n            // 添加活动\r\n            this.$axios.post('/market/create', {\r\n              name: this.market.name,\r\n              type: this.market.type,\r\n              bannerImage: this.market.bannerImage,\r\n              beginTime: this.market.beginTime,\r\n              overTime: this.market.overTime,\r\n              goodsIds: this.market.goodsIds,\r\n              sid: parseInt(localStorage.getItem('sid'))\r\n            }).then((response) => {\r\n              if (response.data.code === 200) {\r\n                ElMessage({message: response.data.message, type: 'success'})\r\n              }\r\n              this.getMarketList()\r\n            }).catch((error) => {\r\n              console.log(error)\r\n            })\r\n          }\r\n          if (this.operateType === 'edit') {\r\n            // 编辑活动\r\n            this.$axios.put('/market/update', {\r\n              id: this.market.id,\r\n              name: this.market.name,\r\n              type: this.market.type,\r\n              bannerImage: this.market.bannerImage,\r\n              beginTime: this.market.beginTime,\r\n              overTime: this.market.overTime,\r\n              goodsIds: this.market.goodsIds,\r\n              status: this.market.status\r\n            }).then((response) => {\r\n              if (response.data.code === 200) {\r\n                ElMessage({message: response.data.message, type: 'success'})\r\n              }\r\n              this.getMarketList()\r\n            }).catch((error) => {\r\n              console.log(error)\r\n            })\r\n          }\r\n          this.marketDialogVisible = false\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n\r\n    // 删除活动\r\n    deleteMarket(row) {\r\n      this.$axios.delete('/market/delete', {\r\n          params: {\r\n            id: row.id\r\n          }\r\n        }).then((response) => {\r\n          if (response.data.code === 200) {\r\n            ElMessage({message: response.data.message, type: 'success'})\r\n          }\r\n          this.getMarketList()\r\n        }).catch((error) => {\r\n          console.log(error)\r\n      })\r\n    },\r\n\r\n    // 取消\r\n    cancel() {\r\n      this.$refs['ruleForm'].resetFields()\r\n      this.empty()\r\n      this.marketDialogVisible = false\r\n    },\r\n\r\n    // 重置表单\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      switch (formName) {\r\n        case 'query': this.getMarketList(); break;\r\n        case 'ruleForm': this.empty(); break;\r\n        default: console.log('invalid resetForm');\r\n      }\r\n    },\r\n\r\n    // 清空数据\r\n    empty() {\r\n      this.market.bannerImage = '',\r\n      this.market.name = '',\r\n      this.market.type = '',\r\n      this.market.beginTime = '',\r\n      this.market.overTime = '',\r\n      this.market.goodsIds = '',\r\n      this.goodsIds = ''\r\n      this.selectedGoodsList = []\r\n      this.pictureList = []\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goods_image {\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 5px;\r\n}\r\n.el-dialog {\r\n  border-radius: 10px !important;\r\n}\r\n\r\n.el-upload{\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  font-size: 16px;\r\n}\r\n\r\n.el-upload--picture-card {\r\n  background-color: #F2F4F7;\r\n  border: none;\r\n}\r\n\r\n.el-upload--picture-card{\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-top: 0;\r\n  font-size: 16px !important;\r\n}\r\n\r\n.el-upload-list--picture-card .el-upload-list__item{\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  font-size: 16px;\r\n}\r\n\r\n.el-upload-list--picture-card .el-upload-list__item-thumbnail{\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  font-size: 16px;\r\n}\r\n\r\n.el-table__header tr, .el-table__header th {\r\n  background-color: #eff6ff !important;\r\n  font-weight: 450 !important;\r\n  color: #627a94 !important;\r\n  border-bottom: none !important;\r\n}\r\n</style>"]}]}